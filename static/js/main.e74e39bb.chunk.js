(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{182:function(e,t,a){e.exports=a(381)},252:function(e,t,a){},262:function(e,t,a){},265:function(e,t,a){},268:function(e,t,a){},274:function(e,t,a){},277:function(e,t,a){},363:function(e,t,a){},366:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n,r,s,o,i,c,l,u,b,m,p,d,f,h,v,g,O,j,y,E,k=a(0),x=a.n(k),C=a(9),w=a.n(C),I=a(45),N=(a(132),a(78)),S=a(27),T=a.n(S),D=a(37),Y=a(29),L=a(16),A=a(17),$=a(22),H=(a(189),a(11)),P=a(95),z=a.n(P),M=a(10),B=a.n(M),V=a(178),F=a(72),R=a.n(F),U=function(){de.pushLoading()},G=function(){de.popLoading()},J=localStorage.getItem("issue-todo-repo"),W=J&&"https://api.github.com/repos".concat(J),_=J&&"https://github.com".concat(J,"/issues"),q=function(e){return window.open("".concat(_,"/").concat(e))},K=function(){var e={Accept:"application/vnd.github.symmetra-preview+json"};return n||(n=localStorage.getItem("issue-todo-token")),n&&(e.Authorization="Bearer ".concat(n)),e},Q=function(e,t){var a,n,r,s,o,i,c,l,u,b,m,p,d,f,h,v=arguments;return T.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(a=v.length>2&&void 0!==v[2]?v[2]:{},n=a.getData,r=void 0===n?{}:n,s=a.hideLoading,o=void 0!==s&&s,i=a.loadingText,void 0===i?null:i,c=a.throwException,l=void 0!==c&&c,u=a.method,b=void 0===u?"GET":u,m=a.headerLink,p=void 0!==m&&m,g.prev=1,o||U(),d=-1===e.indexOf(W)?W+e:e,Object.keys(r).forEach((function(e,t){var a=r[e];void 0!==a&&(d+=(0===t?"?":"&")+"".concat(e,"=").concat(a))})),h=K(),g.prev=6,"PUT"!==b){g.next=13;break}return g.next=10,T.a.awrap(R.a.put(d,t,{headers:h}));case 10:f=g.sent,g.next=34;break;case 13:if("DELETE"!==b){g.next=19;break}return g.next=16,T.a.awrap(R.a.delete(d,{headers:h}));case 16:f=g.sent,g.next=34;break;case 19:if("POST"!==b){g.next=25;break}return g.next=22,T.a.awrap(R.a.post(d,t,{headers:h}));case 22:f=g.sent,g.next=34;break;case 25:if("PATCH"!==b){g.next=31;break}return g.next=28,T.a.awrap(R.a.patch(d,t,{headers:h}));case 28:f=g.sent,g.next=34;break;case 31:return g.next=33,T.a.awrap(R.a.get(d,{headers:h}));case 33:f=g.sent;case 34:o||G(),g.next=41;break;case 37:throw g.prev=37,g.t0=g.catch(6),o||G(),g.t0;case 41:if(!p){g.next=43;break}return g.abrupt("return",[f.data,f.headers.link]);case 43:return g.abrupt("return",f.data);case 46:if(g.prev=46,g.t1=g.catch(1),!0!==l){g.next=52;break}throw g.t1;case 52:"Request failed with status code 401"===g.t1.message||g.t1.message,N.a.error(g.t1.response&&g.t1.response.data&&g.t1.response.data.message||String(g.t1));case 53:case"end":return g.stop()}}),null,null,[[1,46],[6,37]])},X=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.getData=t,Q(e,null,a)},Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.method="POST",Q(e,t,a)},ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.method="PATCH",Q(e,t,a)},te=function(){return n||(n=localStorage.getItem("issue-todo-token")),!!n},ae=function(e){return.299*parseInt(e.substr(0,2),16)+.587*parseInt(e.substr(2,2),16)+.114*parseInt(e.substr(4,2),16)>186?"#000000":"#ffffff"},ne=/^```\r\n\[meta\]([\s\S]*)\[\/meta\]\r\n```/,re=function(e){if(!e)return{};var t=ne.exec(e),a={};if(t)try{var n=JSON.parse(t[1]);n.defer&&(a.defer=n.defer)}catch(r){}return a},se=function(){var e,t,a,n,r,s,o;return T.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:i.prev=0,e=[],t=1;case 3:return i.next=6,T.a.awrap(X("/issues",{direction:"asc",_:(new Date).getTime(),page:t},{throwException:!0,headerLink:!0}));case 6:if(a=i.sent,n=Object(V.a)(a,2),r=n[0],s=n[1],e=[].concat(Object(I.a)(e),Object(I.a)(r.map((function(e){return Object(D.a)({},e,{meta:re(e.body)})})))),!(o=/&page=(\d)>;\srel="next"/.exec(s))){i.next=16;break}t=o[1],i.next=17;break;case 16:return i.abrupt("break",19);case 17:i.next=3;break;case 19:return i.abrupt("return",e);case 22:if(i.prev=22,i.t0=i.catch(0),!i.t0.response||![401,404].includes(i.t0.response.status)){i.next=30;break}localStorage.removeItem("issue-todo-token"),localStorage.removeItem("issue-todo-repo"),window.location.reload(),i.next=31;break;case 30:throw i.t0;case 31:case"end":return i.stop()}}),null,null,[[0,22]])},oe=function(e){var t=e.title;return Z("/issues",{title:t})},ie=function(e,t){return Z("/issues/".concat(t,"/labels"),{labels:Array.isArray(e)?e:[e]})},ce=function(e,t){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.method="DELETE",Q(e,t,a)}("/issues/".concat(t,"/labels/").concat(e))},le=function(e,t){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.method="PUT",Q(e,t,a)}("/issues/".concat(e,"/labels"),{labels:t.map((function(e){return e.name}))})},ue=function(e,t){return ee("/issues/".concat(e),t)},be=function(e,t,a){var n=a.defer,r=re(t);void 0!==n&&(r.defer=n);var s=function(e,t){var a=z.a.clone(t);a.defer&&(a.defer=B()(a.defer).format("YYYY-MM-DD HH:mm:ss"));var n="```\r\n[meta]\r\n".concat(JSON.stringify(a,null,2),"\r\n[/meta]\r\n```");return ne.test(e)?e.replace(ne,n):n+"\r\n"+(e||"")}(t,r);return ue(e,{body:s})},me=z.a.debounce(ue,1e3),pe=function(e){return/\[list\]/.test(e.description)},de=new(r=function(){function e(){Object(L.a)(this,e),Object(Y.a)(this,"issues",s,this),Object(Y.a)(this,"labels",o,this),Object(Y.a)(this,"initState",i,this),Object(Y.a)(this,"sidebarCollapsed",c,this),Object(Y.a)(this,"rightBarCollapsed",l,this),Object(Y.a)(this,"selectedIssueNumber",u,this),Object(Y.a)(this,"loading",b,this),Object(Y.a)(this,"init",m,this),Object(Y.a)(this,"pushLoading",p,this),Object(Y.a)(this,"popLoading",d,this),Object(Y.a)(this,"setSidebarCollapse",f,this),Object(Y.a)(this,"setRightBarCollapse",h,this),Object(Y.a)(this,"closeIssue",v,this),Object(Y.a)(this,"addIssue",g,this),Object(Y.a)(this,"setIssueFlag",O,this),Object(Y.a)(this,"setSelectedIssueNumber",j,this),Object(Y.a)(this,"updateIssue",y,this),Object(Y.a)(this,"updateLabelVisible",E,this)}return Object(A.a)(e,[{key:"displayLabels",get:function(){return this.labels.filter((function(e){return"important"!==e.name}))}},{key:"computedIssues",get:function(){var e=this,t=this.labels.filter((function(e){return e.$visible})).map((function(e){return e.name}));return this.issues.map((function(t){return Object(D.a)({},t,{$displayLabels:t.labels.filter((function(e){return"important"!==e.name})),$isImportant:t.labels.some((function(e){return"important"===e.name})),$selected:t.number===e.selectedIssueNumber,$deferred:t.meta.defer&&B()(t.meta.defer).isAfter(B()())})})).filter((function(e){return!!e.$isImportant||(!e.labels.length||e.labels.some((function(e){return t.includes(e.name)})))}))}},{key:"nextActionIssues",get:function(){return this.computedIssues.filter((function(e){return!!e.$displayLabels.length&&!e.$displayLabels.some(pe)}))}},{key:"inboxIssues",get:function(){return this.computedIssues.filter((function(e){return 0===e.$displayLabels.length}))}},{key:"importantIssues",get:function(){return this.computedIssues.filter((function(e){return e.$isImportant}))}},{key:"listIssues",get:function(){return this.computedIssues.filter((function(e){return e.labels.some(pe)}))}},{key:"selectedIssue",get:function(){var e=this;return this.computedIssues.find((function(t){return t.number===e.selectedIssueNumber}))}}]),e}(),s=Object($.a)(r.prototype,"issues",[H.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=Object($.a)(r.prototype,"labels",[H.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object($.a)(r.prototype,"initState",[H.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"pending"}}),c=Object($.a)(r.prototype,"sidebarCollapsed",[H.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=Object($.a)(r.prototype,"rightBarCollapsed",[H.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=Object($.a)(r.prototype,"selectedIssueNumber",[H.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=Object($.a)(r.prototype,"loading",[H.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object($.a)(r.prototype,"displayLabels",[H.e],Object.getOwnPropertyDescriptor(r.prototype,"displayLabels"),r.prototype),Object($.a)(r.prototype,"computedIssues",[H.e],Object.getOwnPropertyDescriptor(r.prototype,"computedIssues"),r.prototype),Object($.a)(r.prototype,"nextActionIssues",[H.e],Object.getOwnPropertyDescriptor(r.prototype,"nextActionIssues"),r.prototype),Object($.a)(r.prototype,"inboxIssues",[H.e],Object.getOwnPropertyDescriptor(r.prototype,"inboxIssues"),r.prototype),Object($.a)(r.prototype,"importantIssues",[H.e],Object.getOwnPropertyDescriptor(r.prototype,"importantIssues"),r.prototype),Object($.a)(r.prototype,"listIssues",[H.e],Object.getOwnPropertyDescriptor(r.prototype,"listIssues"),r.prototype),Object($.a)(r.prototype,"selectedIssue",[H.e],Object.getOwnPropertyDescriptor(r.prototype,"selectedIssue"),r.prototype),m=Object($.a)(r.prototype,"init",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t,a;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.a.awrap(se());case 2:return t=n.sent,e.issues=t,n.next=6,T.a.awrap(X("/labels",{_:(new Date).getTime()}));case 6:a=n.sent,e.labels=a.map((function(e){return Object(D.a)({},e,{$visible:!0})})),e.initState="done";case 9:case"end":return n.stop()}}))}}}),p=Object($.a)(r.prototype,"pushLoading",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.loading++}}}),d=Object($.a)(r.prototype,"popLoading",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.loading--}}}),f=Object($.a)(r.prototype,"setSidebarCollapse",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.sidebarCollapsed=t}}}),h=Object($.a)(r.prototype,"setRightBarCollapse",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.rightBarCollapsed=t}}}),v=Object($.a)(r.prototype,"closeIssue",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a;if(!e.issues.find((function(e){return e.number===t})))return N.a.error("Issue not found: #"+t);a=t,T.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee("/issues/".concat(a),{state:"close"}));case 1:case"end":return e.stop()}})),e.issues=e.issues.map((function(e){return e.number!==t?e:Object(D.a)({},e,{$closed:!0})}))}}}),g=Object($.a)(r.prototype,"addIssue",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a,n,r;return T.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=t.title,n=(new Date).getTime(),e.issues.push({number:n,title:a,labels:[],meta:{},$displayLabels:[]}),s.next=5,T.a.awrap(oe({title:a}));case 5:r=s.sent,e.issues=e.issues.map((function(e){return e.number!==n?e:Object(D.a)({},e,{},r)}));case 7:case"end":return s.stop()}}))}}}),O=Object($.a)(r.prototype,"setIssueFlag",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a,n,r=arguments;return T.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:a=!(r.length>1&&void 0!==r[1])||r[1],n=e.labels.find((function(e){return"important"===e.name})),e.issues=e.computedIssues.map((function(e){return e.number!==t?e:a?e.$isImportant?e:(ie(n.name,e.number),Object(D.a)({},e,{labels:[].concat(Object(I.a)(e.labels),[n])})):e.$isImportant?(ce(n.name,e.number),Object(D.a)({},e,{labels:e.labels.filter((function(e){return"important"!==e.name}))})):e}));case 3:case"end":return s.stop()}}))}}}),j=Object($.a)(r.prototype,"setSelectedIssueNumber",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.selectedIssueNumber=t}}}),y=Object($.a)(r.prototype,"updateIssue",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.issues=e.issues.map((function(e){return e.number===t?a.meta?(be(t,e.body,a.meta),Object(D.a)({},e,{meta:Object(D.a)({},e.meta,{},a.meta)})):(a.labels?le(t,a.labels):me(t,a),Object(D.a)({},e,{},a)):e}))}}}),E=Object($.a)(r.prototype,"updateLabelVisible",[H.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.labels=e.labels.map((function(e){return e.id!==t?e:Object(D.a)({},e,{$visible:a})}))}}}),r),fe=a(19),he=a(18),ve=a(20),ge=a(1),Oe=a.n(ge),je=function(e){function t(){return Object(L.a)(this,t),Object(fe.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"getChildContext",value:function(){return{store:this.props.store}}},{key:"render",value:function(){return this.props.children}}]),t}(k.Component);je.childContextTypes={store:Oe.a.object};a(247);var ye,Ee,ke,xe=a(173),Ce=a(77),we=a(51),Ie=a(24),Ne=(a(65),a(8)),Se=[{path:"/",exact:!0,node:x.a.createElement("span",null,x.a.createElement(Ne.a,{type:"inbox"})," Inbox")},{path:"/next-action",node:x.a.createElement("span",null,x.a.createElement(Ne.a,{type:"carry-out"})," Next Action")},{path:"/important",node:x.a.createElement("span",null,x.a.createElement(Ne.a,{type:"flag"})," Important")},{path:"/list",node:x.a.createElement("span",null,x.a.createElement(Ne.a,{type:"unordered-list"})," List")}],Te=(a(86),a(58)),De=(a(117),a(50)),Ye=(a(252),function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,changing:!1},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;!e.visible&&this.props.visible?setTimeout((function(){return t.setState({visible:!0,changing:!1})})):e.visible&&!this.props.visible&&setTimeout((function(){return t.setState({changing:!1})}),280)}},{key:"render",value:function(){var e=this.props,t=e.okText,a=e.onOk,n=e.onCancel,r=e.okButtonProps,s=this.state,o=s.visible,i=s.changing;return this.props.visible||i?Object(C.createPortal)(x.a.createElement("aside",{className:"ui-modal-cover"},x.a.createElement("div",{className:"cover"}),x.a.createElement("div",{className:"window"},x.a.createElement("div",{className:"window-shadow","data-is-hide":!o},x.a.createElement("div",{className:"body"},this.props.children),x.a.createElement("div",{className:"footer"},x.a.createElement("div",{className:"blank"}),x.a.createElement(De.a,{onClick:n},"Cancel"),x.a.createElement(De.a,Object.assign({type:"primary",onClick:a},r),t))))),document.body):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.changing||t.visible||!e.visible?t.changing||!t.visible||e.visible?null:{changing:!0,visible:!1}:{changing:!0}}}]),t}(k.Component));Ye.defaultProps={okText:"OK",visible:!1,onCancel:function(){},onOk:function(){},okButtonProps:{}};var Le,Ae,$e,He,Pe,ze,Me,Be,Ve,Fe=Object(Ie.a)((ke=Ee=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).state={modalVisible:!1},a.handleInputChange=function(e){a.setState({title:e})},a.submit=function(){(0,a.context.store.addIssue)({title:a.input.input.value}),a.setState({modalVisible:!1})},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this,t=this.state.modalVisible;return x.a.createElement(x.a.Fragment,null,x.a.createElement("button",{onClick:function(){return e.setState({modalVisible:!0})}},x.a.createElement(Ne.a,{type:"inbox"})),x.a.createElement(Ye,{okText:"Add",visible:t,onCancel:function(){return e.setState({modalVisible:!1})},onOk:this.submit},x.a.createElement(Te.a,{placeholder:"Unnamed Task",autoFocus:!0,ref:function(t){return e.input=t},onPressEnter:this.submit})))}}]),t}(k.Component),Ee.contextTypes={store:Oe.a.object},ye=ke))||ye,Re=(a(260),a(177)),Ue=(a(262),Object(Ie.a)(($e=Ae=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).setVisible=function(e,t){(0,a.context.store.updateLabelVisible)(e,t)},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){return x.a.createElement(Re.a,{trigger:"click",placement:"bottomRight",content:this.renderContent()},x.a.createElement("button",null,x.a.createElement(Ne.a,{type:"tags"})))}},{key:"renderContent",value:function(){var e=this,t=this.context.store.labels;return x.a.createElement("div",{className:"ui-header-tags-filter"},t.filter((function(e){return"important"!==e.name})).map((function(t){return x.a.createElement("div",{className:"popover-item",key:t.id,onClick:function(){return e.setVisible(t.id,!t.$visible)}},x.a.createElement("div",{className:"check"},t.$visible&&x.a.createElement(Ne.a,{type:"check"})),x.a.createElement("div",{className:"color",style:{backgroundColor:"#".concat(t.color)}}),x.a.createElement("div",{className:"name"},t.name))})))}}]),t}(k.Component),Ae.contextTypes={store:Oe.a.object},Le=$e))||Le),Ge=(a(265),Object(Ie.a)((ze=Pe=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).toggleSidebar=function(){var e=a.context.store,t=e.sidebarCollapsed;(0,e.setSidebarCollapse)(!t)},a.toggleRightBar=function(){var e=a.context.store,t=e.rightBarCollapsed;(0,e.setRightBarCollapse)(!t)},a.goToGithub=function(){var e=a.context.store.selectedIssueNumber;e&&q(e)},a.reload=function(){var e=a.context.store,t=e.loading,n=e.init;t||n()},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.context.store,t=e.sidebarCollapsed,a=e.selectedIssueNumber,n=e.loading;return x.a.createElement("header",{className:"app-header"},x.a.createElement("div",{className:"left-buttons"},x.a.createElement("button",{onClick:this.toggleSidebar},x.a.createElement(Ne.a,{type:t?"menu-unfold":"menu-fold"})),x.a.createElement("button",{onClick:this.reload},x.a.createElement(Ne.a,{type:"reload","data-is-loading":n>0})),x.a.createElement(Fe,null)),x.a.createElement("div",{className:"page-title"},x.a.createElement(we.c,null,Se.map((function(e){return x.a.createElement(we.a,{key:e.path,path:e.path,exact:e.exact},e.node)})))),x.a.createElement("div",{className:"right-buttons"},x.a.createElement(Ue,null),x.a.createElement("button",{disabled:!a,onClick:this.goToGithub},x.a.createElement(Ne.a,{type:"github"})),x.a.createElement("button",{onClick:this.toggleRightBar},x.a.createElement(Ne.a,{type:"info-circle"}))))}}]),t}(k.Component),Pe.contextTypes={store:Oe.a.object},He=ze))||He),Je=(a(268),Object(Ie.a)((Ve=Be=function(e){function t(){return Object(L.a)(this,t),Object(fe.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"logout",value:function(){localStorage.removeItem("issue-todo-token"),localStorage.removeItem("issue-todo-repo"),window.location.href="/"}},{key:"render",value:function(){var e=this.context.store.sidebarCollapsed;return x.a.createElement("div",{className:"app-sidebar","data-is-collapsed":e},x.a.createElement("div",{className:"sidebar-menu-group-title"},"Perspective"),Se.map((function(e){return x.a.createElement("div",{className:"sidebar-menu",key:e.path},x.a.createElement(Ce.b,{to:e.path,exact:e.exact},e.node))})),x.a.createElement("div",{className:"login-info"},x.a.createElement("p",{className:"logout",onClick:this.logout},"repo:",x.a.createElement(Ne.a,{type:"logout"})),x.a.createElement("p",{className:"repo-url"},J)))}}]),t}(k.Component),Be.contextTypes={store:Oe.a.object},Me=Ve))||Me),We=(a(269),a(52)),_e=(a(155),a(36)),qe=(a(156),a(100)),Ke=(a(274),qe.a.CheckableTag),Qe=x.a.forwardRef((function(e,t){var a=e.dataSource,n=e.value,r=e.onChange,s=Object(k.useCallback)((function(e,t){var a;r&&(a=t?[].concat(Object(I.a)(n),[e]):n.filter((function(t){return t.name!==e.name})),r(a))}),[r,n]);return x.a.createElement("div",{className:"ui-form-item-label-group",ref:t},a.map((function(e){return x.a.createElement(Ke,{key:e.id,checked:n.some((function(t){return t.name===e.name})),style:{"--label-font-color":ae(e.color),"--label-back-color":"#".concat(e.color)},onChange:function(t){return s(e,t)}},e.name)})))})),Xe=(a(383),a(175)),Ze=(a(277),x.a.forwardRef((function(e,t){var a=e.value,n=e.onChange,r=a.createdAt,s=a.updatedAt,o=a.defer,i=Object(k.useCallback)((function(e){n({defer:e?e.format("YYYY-MM-DD HH:mm:ss"):null})}),[n]),c=Object(k.useCallback)((function(){n({defer:B()(o).add(1,"day").format("YYYY-MM-DD HH:mm:ss")})}),[n,o]),l=Object(k.useCallback)((function(){n({defer:B()(o).add(1,"month").format("YYYY-MM-DD HH:mm:ss")})}),[n,o]),u=Object(k.useCallback)((function(){n({defer:B()(o).add(1,"week").format("YYYY-MM-DD HH:mm:ss")})}),[n,o]);return x.a.createElement("div",{className:"ui-form-item-dates",ref:t},x.a.createElement(_e.a.Item,{label:"Defer Until"},x.a.createElement(Xe.a,{value:o?B()(o):null,onChange:i,placeholder:"",showTime:{format:"HH:mm",secondStep:60,defaultValue:B()("00:00:00","HH:mm:ss")},format:"YYYY/MM/DD HH:mm",showToday:!1,style:{width:"100%"}}),x.a.createElement("div",{className:"quick-select-buttons"},x.a.createElement("button",{onClick:c},"+1 Day"),x.a.createElement("button",{onClick:u},"+1 Week"),x.a.createElement("button",{onClick:l},"+1 Month"))),x.a.createElement("div",{className:"sub-form"},x.a.createElement(_e.a.Item,{label:"Added",labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18}},B()(r).format("YYYY/MM/DD HH:mm")),x.a.createElement(_e.a.Item,{label:"Changed",labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18}},B()(s).format("YYYY/MM/DD HH:mm"))))})));var et,tt,at,nt,rt,st,ot,it,ct,lt,ut,bt,mt,pt,dt,ft,ht,vt,gt,Ot,jt,yt,Et,kt,xt=_e.a.create({name:"right-bar-form",mapPropsToFields:function(e){var t=e.formData;return t?{title:_e.a.createFormField({value:t.title}),labels:_e.a.createFormField({value:t.labels||[]}),date:_e.a.createFormField({value:t.date||{}})}:{}},onValuesChange:function(e,t,a){e.onValuesChange&&e.onValuesChange(t,a)}})((function(e){var t=e.form,a=e.displayLabels,n=t.getFieldDecorator;return x.a.createElement(_e.a,null,x.a.createElement(_e.a.Item,{label:"Title"},n("title")(x.a.createElement(Te.a.TextArea,{rows:4}))),x.a.createElement(_e.a.Item,{label:"Label"},n("labels")(x.a.createElement(Qe,{dataSource:a}))),x.a.createElement(_e.a.Item,{label:"Date"},n("date")(x.a.createElement(Ze,null))))})),Ct=(a(363),Object(Ie.a)((at=tt=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).handleLabelChange=function(e,t){var n=a.context.store,r=n.updateIssue,s=n.selectedIssue,o=s.labels;o=t?[].concat(Object(I.a)(o),[e]):o.filter((function(t){return t.name!==e.name})),r(s.number,{labels:o})},a.handleValuesChange=function(e,t){var n=a.context.store,r=n.updateIssue,s=n.selectedIssue;e.date&&void 0!==e.date.defer?r(s.number,{meta:{defer:e.date.defer}}):r(s.number,e)},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.context.store,t=e.rightBarCollapsed,a=e.selectedIssue,n=e.displayLabels,r=a||{},s=r.labels,o=r.title,i=r.created_at,c=r.updated_at,l=r.meta;return x.a.createElement("div",{className:"app-rightbar","data-is-collapsed":t},a?x.a.createElement(xt,{formData:{title:o,labels:s,date:{createdAt:i,updatedAt:c,defer:l.defer}},onValuesChange:this.handleValuesChange,displayLabels:n}):x.a.createElement(We.a,{description:"NO SELECTION"}))}}]),t}(k.Component),tt.contextTypes={store:Oe.a.object},et=at))||et),wt=(a(382),a(176)),It=(a(366),function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).state={token:"",repo:""},a.onTokenChange=function(e){return a.setState({token:e.target.value})},a.onRepoChange=function(e){return a.setState({repo:e.target.value})},a.login=function(){var e,t,n;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e=a.state,t=e.token,n=e.repo,localStorage.setItem("issue-todo-token",t),localStorage.setItem("issue-todo-repo",/^\//.test(n)?n:"/".concat(n)),window.location.href="/";case 4:case"end":return r.stop()}}))},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.state,t=e.token,a=e.repo;return x.a.createElement("div",{className:"page-login"},x.a.createElement("div",{className:"main"},x.a.createElement(wt.a,{title:"Login"},x.a.createElement("div",{className:"form"},x.a.createElement("div",{className:"form-row"},x.a.createElement(Te.a,{onChange:this.onTokenChange,value:t,placeholder:"GitHub API token"})),x.a.createElement("div",{className:"form-row"},x.a.createElement(Te.a,{onChange:this.onRepoChange,value:a,placeholder:"Repo address, e.g: wangsijie/todo"})),x.a.createElement("div",{className:"form-row"},x.a.createElement(De.a,{disabled:!t,onClick:this.login,type:"primary"},"GO"))))))}}]),t}(k.Component)),Nt=(a(369),Object(Ie.a)((st=rt=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).handleCheckBoxClick=function(){var e=a.props.issue;e.$closed||(0,a.context.store.closeIssue)(e.number)},a.toggleFlag=function(){var e=a.props.issue;(0,a.context.store.setIssueFlag)(e.number,!e.$isImportant)},a.select=function(){var e=a.props.issue;(0,a.context.store.setSelectedIssueNumber)(e.number)},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.props.issue;return x.a.createElement("div",{className:"ui-issue",onClick:this.select,"data-is-selected":e.$selected,"data-is-faded":e.$deferred},x.a.createElement("div",{className:"check-box",onClick:this.handleCheckBoxClick,"data-is-important":e.$isImportant},e.$closed&&x.a.createElement("div",{className:"closed"})),x.a.createElement("div",{className:"main"},x.a.createElement("div",{className:"title","data-is-closed":e.$closed},e.title),x.a.createElement("div",{className:"labels"},e.$displayLabels.map((function(e){return x.a.createElement("div",{className:"label",key:e.id,style:{backgroundColor:"#".concat(e.color),color:ae(e.color)}},e.name)}))),x.a.createElement("div",{className:"flag",onClick:this.toggleFlag},x.a.createElement(Ne.a,{type:"flag",theme:e.$isImportant?"twoTone":null}))))}}]),t}(k.Component),rt.contextTypes={store:Oe.a.object},nt=st))||nt),St=(a(370),Object(Ie.a)((ct=it=function(e){function t(){var e,a;Object(L.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(fe.a)(this,(e=Object(he.a)(t)).call.apply(e,[this].concat(r)))).clearSelection=function(){(0,a.context.store.setSelectedIssueNumber)(0)},a}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"componentWillUnmount",value:function(){this.clearSelection()}},{key:"render",value:function(){var e=this.props.issues;return x.a.createElement("div",{className:"ui-issue-list"},x.a.createElement("div",{className:"ui-issue-list-body"},e.map((function(e){return x.a.createElement(Nt,{key:e.number,issue:e})}))),x.a.createElement("div",{className:"ui-issue-list-blank",onClick:this.clearSelection}))}}]),t}(k.Component),it.contextTypes={store:Oe.a.object},ot=ct))||ot),Tt=Object(Ie.a)((bt=ut=function(e){function t(){return Object(L.a)(this,t),Object(fe.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.context.store.inboxIssues;return x.a.createElement("div",null,x.a.createElement(St,{issues:e}))}}]),t}(k.Component),ut.contextTypes={store:Oe.a.object},lt=bt))||lt,Dt=Object(Ie.a)((dt=pt=function(e){function t(){return Object(L.a)(this,t),Object(fe.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.context.store.nextActionIssues;return x.a.createElement("div",null,x.a.createElement(St,{issues:e}))}}]),t}(k.Component),pt.contextTypes={store:Oe.a.object},mt=dt))||mt,Yt=Object(Ie.a)((vt=ht=function(e){function t(){return Object(L.a)(this,t),Object(fe.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.context.store.listIssues;return x.a.createElement("div",null,x.a.createElement(St,{issues:e}))}}]),t}(k.Component),ht.contextTypes={store:Oe.a.object},ft=vt))||ft,Lt=Object(Ie.a)((jt=Ot=function(e){function t(){return Object(L.a)(this,t),Object(fe.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"render",value:function(){var e=this.context.store.importantIssues;return x.a.createElement("div",null,x.a.createElement(St,{issues:e}))}}]),t}(k.Component),Ot.contextTypes={store:Oe.a.object},gt=jt))||gt,At=(a(371),Object(Ie.a)((kt=Et=function(e){function t(){return Object(L.a)(this,t),Object(fe.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){var e=this.context.store.init;te()&&e()}},{key:"render",value:function(){return te()?"pending"===this.context.store.initState?x.a.createElement("div",{className:"app pending"},x.a.createElement(xe.a,{size:"large"})," Initializing..."):x.a.createElement("div",{className:"app"},x.a.createElement(Ce.a,null,x.a.createElement(Ge,null),x.a.createElement("div",{className:"app-body"},x.a.createElement(Je,null),x.a.createElement("div",{className:"app-main"},x.a.createElement(we.a,{path:"/",exact:!0,component:Tt}),x.a.createElement(we.a,{path:"/next-action",component:Dt}),x.a.createElement(we.a,{path:"/important",component:Lt}),x.a.createElement(we.a,{path:"/list",component:Yt})),x.a.createElement(Ct,null)))):x.a.createElement(It,null)}}]),t}(x.a.Component),Et.contextTypes={store:Oe.a.object},yt=kt))||yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(380);w.a.render(x.a.createElement(je,{store:de},x.a.createElement(At,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[182,1,2]]]);
//# sourceMappingURL=main.e74e39bb.chunk.js.map